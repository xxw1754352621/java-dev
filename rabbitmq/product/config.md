前文

rabbitmq的消息去从。当生产者发送消息给broker后，有两个参数mandatory 和 immediate 和备份交换机决定消息被接收、返回、或丢弃的。

# mandatory

-  参数设为 true 时，没有符合条件队列，那么 Rabbitmq 将消息返回给生产者 。当 mandatory 设置为 false 时，没有符合条件队列，那么消息直接被丢弃;

# imrnediate 

- 参数设为 true 时，如果交换器在将消息路由到队列时发现队列上并不存在
  何消费者，那么这条消息将返回至生产者。当 imrnediate 设置为 false 时，没有符合条件且有消费者的队列，那么消息直接被丢弃;

# 备份交换机

- 当消息路由不到合适的队列时，rabbitmq将者消息转给备份交换机，而不将消息返回给生产者。假设在设置备份交换机的路由键设置错了，那消息找不到合适